<template>
  <div>

    <img class="img-map" src="../../assets/muscles-map/front-model.jpg" width="288" height="618" usemap="#front-model"/>

    <map name="front-model" id="front-model">
      <area data-group-id="abs" title="abs" shape="poly"
            coords="135,185.00000762939453,132,186.00000762939453,130,189.00000762939453,128,189.00000762939453,124,190.00000762939453,121,191.00000762939453,118,191.00000762939453,114,192.00000762939453,112,192.00000762939453,111,194.00000762939453,112,199.00000762939453,111,203.00000762939453,110,207.00000762939453,109,208.00000762939453,112,214.00000762939453,137,183.00000762939453,144,182.00000762939453,150,186.00000762939453,158,188.00000762939453,165,189.00000762939453,170,194.00000762939453,169,197.00000762939453,167,199.00000762939453,171,204.00000762939453,171,210.00000762939453,170,215.00000762939453,168,218.00000762939453,167,219.00000762939453,168,227.00000762939453,166,230.00000762939453,165,232.00000762939453,165,238.00000762939453,166,246.00000762939453,165,253.00000762939453,164,259.00000762939453,163,266.00000762939453,162,271.00000762939453,160,276.00000762939453,158,283.00000762939453,156,288.00000762939453,155,295.00000762939453,153,300.00000762939453,152,305.00000762939453,149,303.00000762939453,148,298.00000762939453,146,293.00000762939453,144,286.00000762939453,142,281.00000762939453,140,282.00000762939453,139,286.00000762939453,138,291.00000762939453,137,294.00000762939453,136,299.00000762939453,134,303.00000762939453,133,305.00000762939453,130,301.00000762939453,129,297.00000762939453,128,293.00000762939453,126,290.00000762939453,121,272.00000762939453,117,260.00000762939453,116,251.00000762939453,117,242.00000762939453,117,237.00000762939453,117,233.00000762939453,115,231.00000762939453,113,229.00000762939453,113,225.00000762939453,113,222.00000762939453,112,220.00000762939453,111,214.00000762939453"
      />
      <area data-group-id="obliques" title="obliquesLeft" shape="poly"
            coords="79,185,79,193,79,200,81,206,83,213,87,220,91,229,92,236,91,243,91,250,94,257,100,262,106,266,111,270,112,267,112,261,112,255,113,251,114,249,114,243,115,237,116,234,112,227,111,224,111,220,112,218,109,211,109,208,109,204,110,200,110,197,110,195,111,193,97,193"
      />
      <area data-group-id="obliques" title="obliquesRight" shape="poly"
            coords="203,180,204,188,206,194,204,200,203,205,202,210,200,212,198,217,197,220,195,224,191,233,190,239,191,247,191,254,190,257,186,263,183,263,178,265,175,268,172,270,170,269,169,264,168,259,167,257,167,252,168,248,167,244,167,239,167,235,169,229,170,225,170,222,169,220,173,214,173,210,173,207,173,204,172,202,171,200,170,199,171,196,172,194,171,192,169,189,177,188,184,187,193,184,199,182"
      />
    </map>

  </div>
</template>

<script>
  export default {
    name: 'PreferredMuscles',
    data() {
      return {
        regions: [
          {
            name: 'obliques',
            areas: ['obliquesLeft', 'obliquesRight']
          },
          {
            name: 'abs',
            areas: ['abs']
          }
        ],
        selectedAreas: {
          abs: true,
        }
      }
    },
    mounted() {

      this.map = $("img[usemap]").mapify({
        hoverClass: "selected",
        instantClickOnMobile: true,
        onClick: (area) => {
          this.switchSelectedArea(area);
        }
      })
        .data('plugin_mapify');
      this.map.setSelectedAreas(this.selectedAreas)

    },
    methods: {

      switchSelectedArea(area) {
        this.regions.forEach((region) => {
          if (region.areas.indexOf(area) > -1) {
            region.areas.forEach((areaInRegion) => {
              this.$set(this.selectedAreas, areaInRegion, !this.selectedAreas[areaInRegion]);
            })
          }
        });

        this.map.setSelectedAreas(this.selectedAreas);
      }

    }
  }
</script>

<style>

  .selected[data-group-id="abs"] {
    fill: rgba(0, 0, 200, 0.3) !important;
    background: red;
    color: red;
  }

  .selected[data-group-id="obliques"] {
     fill: rgba(200, 0, 0, 0.3) !important;
     background: red;
     color: red;
   }

</style>
